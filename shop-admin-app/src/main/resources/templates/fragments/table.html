<html lang="en" xmlns:th="http://www.thymeleaf.org">

<th th:fragment="header(title, sort_column)" class="text-white">[[${title}]]
    <a class="text-dark"
       th:href="@{/product(categoryId = ${param.categoryId}, brandIds = ${param.brandIds},
                productName = ${param.productName}, minCost = ${param.minCost}, maxCost = ${param.maxCost},
                page = ${products.number + 1}, size = ${products.size}, sortBy = ${sort_column},
                direction = (!${param.direction} or ${#strings.equals(param.direction, 'asc')}
                or !${#strings.equalsIgnoreCase(title, param.sortBy)}) ? 'desc' : 'asc')}">
        <i class="fa " th:classappend="(${#strings.equalsIgnoreCase(title, param.sortBy)}
                and ${#strings.equals(param.direction, 'desc')}) ? 'fa-sort-up' : 'fa-sort-down'"></i></a>
</th>

<a th:fragment="paging_page(text, page_number)" class="page-link"
   th:href="@{/product(categoryId = ${param.categoryId}, brandIds = ${param.brandIds},
            productName=${param.productName}, minCost=${param.minCost}, maxCost=${param.maxCost},
            page=${page_number}, size=${products.size},  sortBy=${param.sortBy},
            direction=${param.direction})}">[[${text}]]</a>

<div th:fragment="filter(filterName, input_text, param_value)" class="mb-3">
    <label th:for="${filterName}" class="sr-only">[[${input_text}]]</label>
    <input type="text" class="form-control" th:id="${filterName}" th:value="${param_value}"
           th:name="${filterName}" th:placeholder="${input_text}">
</div>

<th th:fragment="header_users(title, sort_column)" scope="col" class="text-white">[[${title}]]
    <a class="text-dark"
       th:href="@{/user(userNameFilter=${param.usernameFilter}, minAge=${param.minAge},
                maxAge=${param.maxAge}, page=${users.number + 1}, size=${users.size}, sortBy=${sort_column},
                direction=(!${param.direction} or ${#strings.equals(param.direction, 'asc')} or
                !${#strings.equalsIgnoreCase(title, param.sortBy)}) ? 'desc' : 'asc')}">
        <i class="fa " th:classappend="(${#strings.equalsIgnoreCase(title, param.sortBy)}
                and ${#strings.equals(param.direction, 'desc')}) ? 'fa-sort-up' : 'fa-sort-down'"></i></a>
</th>

<a th:fragment="paging_page_users(text, page_number)" class="page-link"
   th:href="@{/user(usernameFilter=${param.usernameFilter}, minAge=${param.minAge}, maxAge=${param.maxAge},
            page=${page_number}, size=${users.size}, sortBy=${param.sortBy}, direction=${param.direction})}">[[${text}]]</a>
</html>